"use strict";(globalThis.webpackChunkrobotic_book=globalThis.webpackChunkrobotic_book||[]).push([[721],{127:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"module2-digital-twin/sensor-simulation","title":"Sensor Simulation","description":"This chapter explores the crucial aspect of simulating robot sensors to generate data that closely mimics real-world hardware. Accurate sensor simulation is vital for developing and testing perception algorithms, ensuring that software trained in simulation performs reliably on physical robots.","source":"@site/docs/module2-digital-twin/04-sensor-simulation.mdx","sourceDirName":"module2-digital-twin","slug":"/module2-digital-twin/sensor-simulation","permalink":"/Physical-AI-and-Humanoid-Robotics-book/docs/module2-digital-twin/sensor-simulation","draft":false,"unlisted":false,"editUrl":"https://github.com/yourusername/physical-ai-humanoid-book/tree/main/docs/module2-digital-twin/04-sensor-simulation.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Realistic Physics Tuning","permalink":"/Physical-AI-and-Humanoid-Robotics-book/docs/module2-digital-twin/physics-tuning"},"next":{"title":"High-Fidelity Environments (Isaac Sim + Omniverse)","permalink":"/Physical-AI-and-Humanoid-Robotics-book/docs/module2-digital-twin/high-fidelity-environments"}}');var r=i(4848),t=i(8453);const o={},a="Sensor Simulation",l={},d=[{value:"Principles of Sensor Simulation",id:"principles-of-sensor-simulation",level:2},{value:"Simulating Common Robot Sensors",id:"simulating-common-robot-sensors",level:2},{value:"Integrating Simulated Sensors",id:"integrating-simulated-sensors",level:2},{value:"Example: Noisy Depth Camera Feed (Conceptual Isaac Sim Script)",id:"example-noisy-depth-camera-feed-conceptual-isaac-sim-script",level:2},{value:"Explanation",id:"explanation",level:3},{value:"Reference",id:"reference",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"sensor-simulation",children:"Sensor Simulation"})}),"\n",(0,r.jsx)(n.p,{children:"This chapter explores the crucial aspect of simulating robot sensors to generate data that closely mimics real-world hardware. Accurate sensor simulation is vital for developing and testing perception algorithms, ensuring that software trained in simulation performs reliably on physical robots."}),"\n",(0,r.jsx)(n.h2,{id:"principles-of-sensor-simulation",children:"Principles of Sensor Simulation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Fidelity vs. Performance"}),": Balancing the realism of simulation with computational cost."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Noise Models"}),": Incorporating realistic noise profiles (Gaussian, speckle, random walk) for various sensor types."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Calibration"}),": Simulating sensor calibration errors and offsets."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Environmental Factors"}),": Modeling how light, weather, and object properties affect sensor readings."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"simulating-common-robot-sensors",children:"Simulating Common Robot Sensors"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"LiDAR (Velodyne/Hesai models)"}),": Simulating 2D/3D point clouds, range, and intensity data with realistic noise."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Depth Cameras (Intel RealSense D435i/D455)"}),": Simulating RGB-D streams, including depth noise, IR patterns, and field of view limitations."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"IMUs (Inertial Measurement Units)"}),": Simulating accelerometer and gyroscope data with bias, drift, and white noise."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"RGB Cameras"}),": Simulating visual images with realistic lighting, shadows, and lens effects."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"integrating-simulated-sensors",children:"Integrating Simulated Sensors"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ROS 2 Sensor Interfaces"}),": Publishing simulated sensor data to standard ROS 2 topics."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Simulator APIs"}),": Using APIs from Gazebo, Isaac Sim, or Unity to access and configure sensor models."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"example-noisy-depth-camera-feed-conceptual-isaac-sim-script",children:"Example: Noisy Depth Camera Feed (Conceptual Isaac Sim Script)"}),"\n",(0,r.jsxs)(n.p,{children:["This conceptual Python script for NVIDIA Isaac Sim demonstrates how to configure a depth camera with realistic noise parameters, drawing from our ",(0,r.jsx)(n.code,{children:"examples/simulation_configs/sensor_noise_config.json"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Conceptual Python script for Isaac Sim (not directly executable as standalone)\r\nimport omni.isaac.core as icore\r\nimport json\r\nimport numpy as np\r\n\r\n# Assuming an Isaac Sim environment is already set up and running\r\n# world = icore.World(stage_units_in_meters=1.0)\r\n\r\ndef load_sensor_config(config_path):\r\n    with open(config_path, \'r\') as f:\r\n        return json.load(f)\r\n\r\ndef setup_depth_camera(camera_prim_path, noise_config):\r\n    # This is conceptual. In Isaac Sim, you\'d configure the camera sensor properties directly\r\n    # and add post-processing effects for noise.\r\n\r\n    # Example of setting depth noise parameters\r\n    depth_noise_std_dev = noise_config["depth_camera"]["depth_noise_std_dev"]\r\n    ir_noise_std_dev = noise_config["depth_camera"]["ir_noise_std_dev"]\r\n\r\n    print(f"Configuring depth camera at {camera_prim_path}:")\r\n    print(f"  Depth Noise Std Dev: {depth_noise_std_dev}")\r\n    print(f"  IR Noise Std Dev: {ir_noise_std_dev}")\r\n\r\n    # Conceptual representation of applying noise model\r\n    # camera_prim = icore.utils.prims.get_prim_at_path(camera_prim_path)\r\n    # if camera_prim:\r\n    #     camera_sensor = camera_prim.get_applied_schema("CameraSensor")\r\n    #     if camera_sensor:\r\n    #         camera_sensor.createAttribute("noise:depthStdDev").set(depth_noise_std_dev)\r\n    #         camera_sensor.createAttribute("noise:irStdDev").set(ir_noise_std_dev)\r\n    #         # Add other noise parameters like dropouts, speckle, etc.\r\n    # else:\r\n    #     print(f"Error: Camera prim not found at {camera_prim_path}")\r\n\r\ndef simulate_and_get_noisy_data():\r\n    # In a real simulation, you would step the world and retrieve sensor data\r\n    # raw_depth_data = camera.get_depth_data()\r\n    # noisy_depth_data = add_noise_to_data(raw_depth_data, depth_noise_std_dev)\r\n    \r\n    # Simulate a noisy depth reading\r\n    simulated_noisy_depth = np.random.normal(loc=1.5, scale=0.01, size=(100, 100)) # Example noisy data\r\n    print(f"Simulated noisy depth data snippet (mean): {np.mean(simulated_noisy_depth):.4f}m")\r\n    print(f"Simulated noisy depth data snippet (std dev): {np.std(simulated_noisy_depth):.4f}m")\r\n\r\ndef main():\r\n    print("--- Loading Sensor Noise Configurations ---")\r\n    sensor_configs = load_sensor_config("examples/simulation_configs/sensor_noise_config.json")\r\n\r\n    camera_prim_path = "/World/Robot/Camera" # Conceptual path to a camera sensor\r\n    setup_depth_camera(camera_prim_path, sensor_configs)\r\n\r\n    print("\\n--- Simulating Noisy Depth Feed ---")\r\n    simulate_and_get_noisy_data()\r\n\r\nif __name__ == \'__main__\':\r\n    main()\n'})}),"\n",(0,r.jsx)(n.h3,{id:"explanation",children:"Explanation"}),"\n",(0,r.jsx)(n.p,{children:"This conceptual script demonstrates:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Loading Configuration"}),": It loads ",(0,r.jsx)(n.code,{children:"sensor_noise_config.json"})," to get predefined sensor noise parameters."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Camera Setup"}),": Conceptually configures a depth camera sensor within an Isaac Sim environment, applying the loaded noise models."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Simulated Data"}),": It then simulates generating a noisy depth data feed, showing how the configured noise would manifest."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"By applying these noise models, your simulated sensor data will more closely resemble the output of real hardware, making your perception algorithms more robust."}),"\n",(0,r.jsx)(n.h3,{id:"reference",children:"Reference"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"examples/simulation_configs/sensor_noise_config.json"})}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var s=i(6540);const r={},t=s.createContext(r);function o(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);