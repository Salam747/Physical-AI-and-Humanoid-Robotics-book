"use strict";(globalThis.webpackChunkrobotic_book=globalThis.webpackChunkrobotic_book||[]).push([[429],{7045:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>l,default:()=>m,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"module1-ros2/ros2-architecture","title":"ROS 2 Architecture","description":"This chapter provides a comprehensive overview of the ROS 2 (Robot Operating System 2) architecture, its core concepts, and how it addresses the challenges of modern robotics development.","source":"@site/docs/module1-ros2/01-ros2-architecture.mdx","sourceDirName":"module1-ros2","slug":"/module1-ros2/ros2-architecture","permalink":"/Physical-AI-and-Humanoid-Robotics-book/docs/module1-ros2/ros2-architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/yourusername/physical-ai-humanoid-book/tree/main/docs/module1-ros2/01-ros2-architecture.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Module 1 \u2013 The Robotic Nervous System (ROS 2)","permalink":"/Physical-AI-and-Humanoid-Robotics-book/docs/module1-ros2/"},"next":{"title":"Real-time Python Development with rclpy","permalink":"/Physical-AI-and-Humanoid-Robotics-book/docs/module1-ros2/rclpy-development"}}');var i=n(4848),o=n(8453);const t={},l="ROS 2 Architecture",c={},a=[{value:"Key Concepts",id:"key-concepts",level:2},{value:"Communication Patterns",id:"communication-patterns",level:2},{value:"Advantages of ROS 2",id:"advantages-of-ros-2",level:2},{value:"Example: Simple Publisher-Subscriber",id:"example-simple-publisher-subscriber",level:2},{value:"1. Publisher Node (<code>minimal_publisher.py</code>)",id:"1-publisher-node-minimal_publisherpy",level:3},{value:"2. Subscriber Node (<code>minimal_subscriber.py</code>)",id:"2-subscriber-node-minimal_subscriberpy",level:3},{value:"How to Run",id:"how-to-run",level:3}];function d(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"ros-2-architecture",children:"ROS 2 Architecture"})}),"\n",(0,i.jsx)(r.p,{children:"This chapter provides a comprehensive overview of the ROS 2 (Robot Operating System 2) architecture, its core concepts, and how it addresses the challenges of modern robotics development."}),"\n",(0,i.jsx)(r.h2,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"DDS (Data Distribution Service)"}),": The middleware that enables data communication."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Nodes"}),": Executable processes that perform computations."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Topics"}),": Named buses for nodes to exchange messages."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Services"}),": Request/reply mechanisms for nodes to communicate."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Actions"}),": Long-running goal-based communication."]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"communication-patterns",children:"Communication Patterns"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Publish/Subscribe"}),": Asynchronous, one-to-many communication."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Client/Service"}),": Synchronous, request-response communication."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Action Client/Action Server"}),": Asynchronous, goal-based communication for long-running tasks."]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"advantages-of-ros-2",children:"Advantages of ROS 2"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Real-time capabilities"}),": Improved performance and predictability."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Security"}),": Enhanced communication security with SROS 2."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Distributed systems"}),": Better support for multi-robot and distributed deployments."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Multi-platform"}),": Wider operating system support."]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"example-simple-publisher-subscriber",children:"Example: Simple Publisher-Subscriber"}),"\n",(0,i.jsx)(r.p,{children:"To demonstrate the basic publish/subscribe communication pattern in ROS 2, we will create a simple Python publisher node and a corresponding subscriber node."}),"\n",(0,i.jsxs)(r.h3,{id:"1-publisher-node-minimal_publisherpy",children:["1. Publisher Node (",(0,i.jsx)(r.code,{children:"minimal_publisher.py"}),")"]}),"\n",(0,i.jsxs)(r.p,{children:['This node publishes "Hello ROS 2" messages to a topic named ',(0,i.jsx)(r.code,{children:"topic"})," at a rate of 2 Hz."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-python",children:"# examples/ros2_code/minimal_publisher.py\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\nclass MinimalPublisher(Node):\r\n\r\n    def __init__(self):\r\n        super().__init__('minimal_publisher')\r\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\r\n        timer_period = 0.5  # seconds\r\n        self.timer = self.create_timer(timer_period, self.timer_callback)\r\n        self.i = 0\r\n\r\n    def timer_callback(self):\r\n        msg = String()\r\n        msg.data = f'Hello ROS 2: {self.i}'\r\n        self.publisher_.publish(msg)\r\n        self.get_logger().info(f'Publishing: \"{msg.data}\"')\r\n        self.i += 1\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    minimal_publisher = MinimalPublisher()\r\n    rclpy.spin(minimal_publisher)\r\n    minimal_publisher.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsxs)(r.h3,{id:"2-subscriber-node-minimal_subscriberpy",children:["2. Subscriber Node (",(0,i.jsx)(r.code,{children:"minimal_subscriber.py"}),")"]}),"\n",(0,i.jsxs)(r.p,{children:["This node subscribes to the ",(0,i.jsx)(r.code,{children:"topic"})," and prints the messages it receives."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-python",children:"# examples/ros2_code/minimal_subscriber.py\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\nclass MinimalSubscriber(Node):\r\n\r\n    def __init__(self):\r\n        super().__init__('minimal_subscriber')\r\n        self.subscription = self.create_subscription(\r\n            String,\r\n            'topic',\r\n            self.listener_callback,\r\n            10)\r\n        self.subscription  # prevent unused variable warning\r\n\r\n    def listener_callback(self, msg):\r\n        self.get_logger().info(f'I heard: \"{msg.data}\"')\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    minimal_subscriber = MinimalSubscriber()\r\n    rclpy.spin(minimal_subscriber)\r\n    minimal_subscriber.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(r.h3,{id:"how-to-run",children:"How to Run"}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsx)(r.li,{children:"Open two separate terminal windows."}),"\n",(0,i.jsx)(r.li,{children:"In each terminal, source your ROS 2 environment."}),"\n",(0,i.jsxs)(r.li,{children:["Run the publisher:","\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"python3 examples/ros2_code/minimal_publisher.py\n"})}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["In the other terminal, run the subscriber:","\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"python3 examples/ros2_code/minimal_subscriber.py\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:"You should see the subscriber terminal receiving messages from the publisher."})]})}function m(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>t,x:()=>l});var s=n(6540);const i={},o=s.createContext(i);function t(e){const r=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(o.Provider,{value:r},e.children)}}}]);